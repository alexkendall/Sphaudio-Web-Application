<head>
    <title>Sphaudio Visualizer</title>  
</head>
<body>

    <!-- Now it will run after the above elements have been created -->
    <script src="http://threejs.org/build/three.min.js"></script> 
</body>
</html>

<script>

    var scene, camera, renderer;
    var geometry, material, mesh;
    var num_spheres = 10;

    init();
    animate();

    function init() {

        scene = new THREE.Scene();

        camera =  new THREE.OrthographicCamera( window.innerWidth / - 2, window.innerWidth / 2, window.innerHeight / 2, window.innerHeight / - 2, 10, 10000);
        camera.position.z = 1000;
        camera.position.y = 300;
        camera.lookAt (new THREE.Vector3( 0, 0, 0 ));


        renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize( window.innerWidth, window.innerHeight );
        document.body.appendChild( renderer.domElement );

        var increment = 200;
        var start_x = -1 * increment * num_spheres * 0.5;
        for(var i = 0; i < num_spheres; ++i)
        {
            // sphere geometry
            var sphere_radius = 50;
            var segments = 100;
            var rings = 100;
        
            // create the sphere's material
            var sphereMaterial =
            new THREE.MeshLambertMaterial(
            {
                color: 0x00B6FF
            });
            var sphere_geometry = new THREE.SphereGeometry(sphere_radius, segments,rings);

            // generate sphere
            var sphere = new THREE.Mesh(sphere_geometry,sphereMaterial);

            // name sphere
            sphere.name = "sphere" + i;
            alert(sphere.name);

            // set casts shadows to true
            sphere.castShadow = true;
            sphere.receiveShadow = true;

            // set position
            var position = start_x + (increment * i);
            sphere.position.set(position, 0, 0);

            // add the sphere to the scene
            scene.add(sphere);

        }

        // create a point light
        var pointLight =
        new THREE.PointLight(0xFFFFFF);

        // set its position
        pointLight.position.x = 0;
        pointLight.position.y = 100;
        pointLight.position.z = 100;
        pointLight.distance = 2000;

        // add to the scene
        //scene.add(pointLight);

        // create a spot light
        var spot_light = new THREE.SpotLight( 0xffffff );
        spot_light.position.set(0, 1000, 100);
        spot_light.castShadow = true;
        spot_light.shadowMapWidth = 1024;
        spot_light.shadowMapHeight = 1024;
        spot_light.shadowCameraNear = 10;
        spot_light.shadowCameraFar = 10000;
        spot_light.shadowCameraFov = 30;
        scene.add(spot_light);

        // create ambient light
        var ambient_light = new THREE.AmbientLight( 0x222222 ); // soft white light
        scene.add( ambient_light );

        // draw!
        renderer.render(scene, camera);

        // create floor
        var floor_material = new THREE.MeshLambertMaterial(
        {
            color: 0xf4f4f4
        });

        var floor_geometry = new THREE.BoxGeometry( 10000, 1, 10000);
        floor = new THREE.Mesh( floor_geometry, floor_material );

        floor.position.set(0, -125, 0);
        floor.receiveShadow = true;
        //scene.add( floor );


        
    }


    function animate() {

        for(var i = 0; i < num_spheres; ++i)
        {
            var name = "sphere" + i;
            var sphere = scene.getObjectByName (name);

            //sphere.translateY(1);
        }
        requestAnimationFrame( animate );
        renderer.render( scene, camera );

    }

</script>